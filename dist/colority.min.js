!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("colority",n):t.colority=n()}(this,function(){"use strict";function t(r,a,c){var u=this;if(!(this instanceof t))return new t(r,a,c);this.imageURL=r,this.options={},this.callback=function(){},void 0===c?this.callback=a:(this.options=a,this.callback=c),n(this.imageURL,function(t){var n=i(t.naturalWidth,t.naturalHeight);n.drawImage(t,0,0);var r={},a=[];e(n.getImageData(0,0,t.naturalWidth,t.naturalHeight).data,u.options.skip||10,function(t){return r[t]=t in r?r[t]+1:1}),o(r,function(t,n){a.push({color:t,count:n})}),u.callback(a.sort(function(t,n){return n.count-t.count}).map(function(t){return t.color}))})}function n(t,n){var i=new Image;i.crossOrigin="*",i.src=t,i.addEventListener("load",function(){return n(i)}),i.addEventListener("error",function(){return n(i)})}function i(t,n){var i=document.createElement("canvas");return i.width=t,i.height=n,i.getContext("2d")}function e(t,n,i){for(var e=0;e<t.length;e+=4*n)i("rgb("+t[e]+","+t[e+1]+","+t[e+2]+")")}function o(t,n){for(var i in t)n(i,t[i])}return t});
//# sourceMappingURL=colority.min.js.map
